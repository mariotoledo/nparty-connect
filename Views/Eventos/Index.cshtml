@using CampeonatosNParty.Models.Database
@{
    ViewBag.Title = "Index";
    List<Eventos> eventos = NPartyDb<Eventos>.Instance.Select().OrderBy("DataEventoInicio", EixoX.Reflection.ClassSortDirection.Descending).ToList();
}

<div class="page-header">
  <h1>Eventos <small>Confira os últimos que participamos</small></h1>
</div>

<!-- Example row of columns -->
<div class="row">
    <div class="span12">
        <table class="table table-striped table-bordered table-hover">
            <thead>
                <tr>
                    <th>Nome</th>
                    <th>Tipo</th>
                    <th>Local</th>
                    <th>Data</th>
                </tr>
            </thead>
            <tbody>
                @{
                    foreach(Eventos evento in eventos)
                    {
                        <tr>
                            <td>@evento.Nome</td>
                            <td>@evento.TipoEvento</td>
                            <td>@evento.Local</td>
                            @{
                                string dataEvento;
                                if (evento.DataEventoInicio.CompareTo(evento.DataEventoFim) > 0)
                                {
                                    dataEvento = evento.DataEventoInicio.ToString("dd/MM/yyyy");
                                }
                                else
                                {
                                    dataEvento = evento.DataEventoInicio.ToString("dd/MM/yyyy") + " a " + evento.DataEventoFim.ToString("dd/MM/yyyy"); ;
                                }
                            }
                            <td>@dataEvento</td>
                        </tr>
                    }
                }            
            </tbody>
        </table>
    </div>
</div>
