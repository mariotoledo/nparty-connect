@{
    ViewBag.Title = "Pokémon";
    ViewData["ActiveMenu"] = 1;

    List<NParty.Www.Models.Article> articles = (List<NParty.Www.Models.Article>)ViewData["articles"];
    int currentPage = (int)ViewData["currentPage"];

    int maxPosts = (int)ViewData["MaxPosts"];

    ViewData["title"] = "Pokémon";
    ViewData["metaDescription"] = "Tudo sobre Pokémon com a N-Party";
    ViewData["metaImage"] = Url.Content("~/Content/img/metaImages/pokemon.jpg");
    ViewData["metaUrl"] = Url.Content("~/Nintendo/Pokemon");
    ViewData["metaKeywords"] = new List<string>() { "Pokémon", "Pokemon", "Nintendo", "Pikachu" };

    string[] nintendoSpecialTags = (string[])ViewData["NintendoSpecialTags"];

    @section Head{
        @if (articles.Count >= maxPosts)
        {
            <link rel="next" href="@Url.Content("~/Nintendo/Pokemon?page=" + (currentPage + 1))">
        }
        @if (currentPage > 0)
        {
            <link rel="prev" href="@Url.Content("~/Nintendo/Pokemon?page=" + (currentPage - 1))">
        }
    }
}

<div id="nintendo-container" class="pokemon20th" style="padding: 0;">
    @{Html.RenderPartial("SubMenus/Nintendo", 9);}
    <section class="content-section video-section">
        <div class="pattern-overlay">
            <video autoplay loop muted poster="@Url.Content("~/Content/img/pokemon20thbg.jpg")">
                <source src="http://nintendoparty.com.br/videos/pokevideo.mp4" type="video/mp4">
            </video>
            <div class="container">
                <div class="row">
                    <div class="col-lg-12">
                        <div class="logo"><img class="img-responsive" alt="20 anos de Pokémon" src="@Url.Content("~/Content/img/20anospokemon.png")" /></div>
                        <h3>Comemore o aniversário de Pokémon com a N-Party!</h3>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <div class="container" style="margin-top: 20px;">
        <div class="row">
            <div class="col-md-4">
                <div class="[ info-card ]">
                    <img style="width: 100%" src="@Url.Content("~/Content/img/pokemon20thbg.jpg")" />
                    <div class="[ info-card-details ] animate">
                        <div class="[ info-card-header ]">
                            <h1>Timeline Interativa</h1>
                            <h3>Acompanhe a trajetória da franquia Pokémon da melhor forma possível: jogando!</h3>
                        </div>
                        <div class="[ info-card-detail ]">
                            <!-- Description -->
                            <p>People often say that beauty is in the eye of the beholder, and I say that the most liberating thing about beauty is realizing that you are the beholder. This empowers us to find beauty in places where others have not dared to look including inside ourselves.</p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="[ info-card ]">
                    <img style="width: 100%" src="@Url.Content("~/Content/img/pokemon20thbg.jpg")" />
                    <div class="[ info-card-details ] animate">
                        <div class="[ info-card-header ]">
                            <h1> Timeline Interativa </h1>
                            <h3> Acompanhe a trajetória da franquia Pokémon da melhor forma possível: jogando! </h3>
                        </div>
                        <div class="[ info-card-detail ]">
                            <!-- Description -->
                            <p>People often say that beauty is in the eye of the beholder, and I say that the most liberating thing about beauty is realizing that you are the beholder. This empowers us to find beauty in places where others have not dared to look including inside ourselves.</p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="[ info-card ]">
                    <img style="width: 100%" src="@Url.Content("~/Content/img/pokemon20thbg.jpg")" />
                    <div class="[ info-card-details ] animate">
                        <div class="[ info-card-header ]">
                            <h1> Caroline Samantha Henderson </h1>
                            <h3> aka not a real person </h3>
                        </div>
                        <div class="[ info-card-detail ]">
                            <!-- Description -->
                            <p>People often say that beauty is in the eye of the beholder, and I say that the most liberating thing about beauty is realizing that you are the beholder. This empowers us to find beauty in places where others have not dared to look including inside ourselves.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="container" style="padding-top: 30px;">
        @{
            if (articles != null && articles.Count > 0)
            {
                <div class="row">
                    <div class="col-md-8 inside-section col-bordered-right" style="margin-bottom: 20px;">

                        @foreach (NParty.Www.Models.Article article in articles)
                        {
                            bool isSpecialTag = false;

                            foreach (string label in article.Labels)
                            {
                                if (nintendoSpecialTags.Contains(label))
                                {
                                    isSpecialTag = true;
                                    break;
                                }
                            }
                            if (isSpecialTag)
                            {
                                <a class="hilight-article-item" href="@Url.Content("~/" + article.NPartyArticleLink)">
                                    <figure style="background-image: url('@article.CoverImage')"></figure>
                                    <h3>@article.Title</h3>
                                    @if (!string.IsNullOrEmpty(article.AuthorName))
                                    {
                                        <div class="author">Por @article.AuthorName em @article.DatePublished.ToString("dd/MM/yyyy")</div>
                                    }
                                    <p class="snippet">@article.Summary</p>
                                </a>
                            }
                            else
                            {
                                <a class="hilight-article-item hilight-md-article-item" href="@Url.Content("~/" + article.NPartyArticleLink)">
                                    <div class="row">
                                        <div class="col-md-6">
                                            <figure style="background-image: url('@article.CoverImage')"></figure>
                                        </div>
                                        <div class="col-md-6">
                                            <h3>@article.Title</h3>
                                            @if (!string.IsNullOrEmpty(article.AuthorName))
                                            {
                                                <div class="author">Por @article.AuthorName em @article.DatePublished.ToString("dd/MM/yyyy")</div>
                                            }
                                            <p class="snippet">@article.Summary</p>
                                        </div>
                                    </div>
                                </a>
                            }   
                            <hr />
                        }
                        
                        <div class="row">
                            <div class="col-md-5 prevPage">
                                @{
                                    if (articles.Count >= maxPosts)
                                    {
                                        <a rel="next" class="directionLink" href="@Url.Content("~/Nintendo/Pokemon?page=" + (currentPage + 1))" style="text-align: left"><span aria-hidden="true" class="glyphicon glyphicon-chevron-left"></span> ARTIGOS MAIS <b>ANTIGOS</b> </a>
                                    }
                                }
                            </div>
                            <div class="col-md-2"></div>
                            <div class="col-md-5 nextPage">
                                @{
                                    if (currentPage > 0)
                                    {
                                        <a rel="prev" class="directionLink" href="@Url.Content("~/Nintendo/Pokemon?page=" + (currentPage - 1))" style="text-align: right;"> ARTIGOS MAIS <b>RECENTES</b> <span aria-hidden="true" class="glyphicon glyphicon-chevron-right"></span></a>
                                    }
                                }
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        @{Html.RenderPartial("Sidebars/Nintendo");}
                    </div>
                </div>
            }
            else
            {
                <div style="padding: 50px; text-align: center;"> Não foi possível encontrar publicãções no momento. Por favor, tente novamente mais tarde.</div>
            }
        }
    </div>
</div>
